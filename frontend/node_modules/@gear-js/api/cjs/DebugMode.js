'use strict';

var Transaction = require('./Transaction.js');

class DebugMode extends Transaction.GearTransaction {
    enabled;
    enable() {
        this.enabled = this._api.tx.sudo.sudo(this._api.tx.gearDebug.enableDebugMode(true));
    }
    disable() {
        this.enabled = this._api.tx.sudo.sudo(this._api.tx.gearDebug.enableDebugMode(false));
    }
    snapshots(callback) {
        return this._api.query.system.events((events) => {
            events
                .filter(({ event }) => this._api.events.gearDebug.DebugDataSnapshot.is(event))
                .forEach(({ event }) => callback(event));
        });
    }
}

exports.DebugMode = DebugMode;
